# Code generated by dev-tool; DO NOT EDIT.
name: pact
on:
  workflow_dispatch:
    inputs:
      validate_pact:
        description: Confirm you want to run pact verify
        type: boolean
        required: false
        default: false

jobs:
  pact-verify:
    if: ${{ inputs.validate_pact }}
    runs-on: ubuntu-latest
    container:
      image: golang:1.22.0
    env:
      PACT_WEBHOOK: true
      PACT_API_TOKEN: ${{ secrets.PACT_API_TOKEN }}
    steps:
     - uses: actions/checkout@v4.1.0
     - uses: "./.github/actions/pactinstall"
     - name: Verify Pact
       run: |-
         # go-kit runs "git config remote.origin.url" which fails if this isn't set
         git config --global --add safe.directory '*'
         
         export PATH=$PATH:/opt/pact/bin
         go test -mod=vendor ./test/contracts/provider/
